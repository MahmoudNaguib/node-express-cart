"use strict";var d=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var A=Object.prototype.hasOwnProperty;var S=(f,e)=>{for(var t in e)d(f,t,{get:e[t],enumerable:!0})},E=(f,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of w(e))!A.call(f,r)&&r!==t&&d(f,r,{get:()=>e[r],enumerable:!(n=x(e,r))||n.enumerable});return f};var R=f=>E(d({},"__esModule",{value:!0}),f);var N={};S(N,{Helpers:()=>b});module.exports=R(N);var k=require("../../errors/faker-error"),T=require("./luhn-check");class b{constructor(e){this.faker=e;for(const t of Object.getOwnPropertyNames(b.prototype))t==="constructor"||typeof this[t]!="function"||(this[t]=this[t].bind(this))}slugify(e=""){return e.replace(/ /g,"-").replace(/[^\一-龠\ぁ-ゔ\ァ-ヴー\w\.\-]+/g,"")}replaceSymbolWithNumber(e="",t="#"){let n="";for(let r=0;r<e.length;r++)e.charAt(r)===t?n+=this.faker.datatype.number(9):e.charAt(r)==="!"?n+=this.faker.datatype.number({min:2,max:9}):n+=e.charAt(r);return n}replaceSymbols(e=""){const t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];let n="";for(let r=0;r<e.length;r++)e.charAt(r)==="#"?n+=this.faker.datatype.number(9):e.charAt(r)==="?"?n+=this.arrayElement(t):e.charAt(r)==="*"?n+=this.faker.datatype.boolean()?this.arrayElement(t):this.faker.datatype.number(9):n+=e.charAt(r);return n}replaceCreditCardSymbols(e="6453-####-####-####-###L",t="#"){e=this.regexpStyleStringParse(e),e=this.replaceSymbolWithNumber(e,t);const n=(0,T.luhnCheckValue)(e);return e.replace("L",String(n))}repeatString(e="",t=0){let n="";for(let r=0;r<t;r++)n+=e.toString();return n}regexpStyleStringParse(e=""){const t=/(.)\{(\d+)\,(\d+)\}/,n=/(.)\{(\d+)\}/,r=/\[(\d+)\-(\d+)\]/;let a,s,l,o,i=e.match(t);for(;i!=null;)a=parseInt(i[2]),s=parseInt(i[3]),a>s&&(l=s,s=a,a=l),o=this.faker.datatype.number({min:a,max:s}),e=e.slice(0,i.index)+this.repeatString(i[1],o)+e.slice(i.index+i[0].length),i=e.match(t);for(i=e.match(n);i!=null;)o=parseInt(i[2]),e=e.slice(0,i.index)+this.repeatString(i[1],o)+e.slice(i.index+i[0].length),i=e.match(n);for(i=e.match(r);i!=null;)a=parseInt(i[1]),s=parseInt(i[2]),a>s&&(l=s,s=a,a=l),e=e.slice(0,i.index)+this.faker.datatype.number({min:a,max:s}).toString()+e.slice(i.index+i[0].length),i=e.match(r);return e}shuffle(e){if(e==null||e.length===0)return e||[];for(let t=e.length-1;t>0;--t){const n=this.faker.datatype.number(t),r=e[t];e[t]=e[n],e[n]=r}return e}uniqueArray(e,t){if(Array.isArray(e)){const r=new Set(e),a=Array.from(r);return this.shuffle(a).splice(0,t)}const n=new Set;try{if(typeof e=="function")for(;n.size<t;)n.add(e())}catch{}return Array.from(n)}mustache(e,t){if(e==null)return"";for(const n in t){const r=new RegExp(`{{${n}}}`,"g"),a=t[n];e=e.replace(r,a)}return e}maybe(e,t={}){const{probability:n=.5}=t;if(this.faker.datatype.float({min:0,max:1})<n)return e()}objectKey(e){const t=Object.keys(e);return this.arrayElement(t)}objectValue(e){const t=this.faker.helpers.objectKey(e);return e[t]}arrayElement(e=["a","b","c"]){const t=e.length>1?this.faker.datatype.number({max:e.length-1}):0;return e[t]}arrayElements(e=["a","b","c"],t){typeof t!="number"?t=e.length===0?0:this.faker.datatype.number({min:1,max:e.length}):t>e.length?t=e.length:t<0&&(t=0);const n=e.slice(0);let r=e.length;const a=r-t;let s,l;for(;r-- >a;)l=Math.floor((r+1)*this.faker.datatype.float({min:0,max:.99})),s=n[l],n[l]=n[r],n[r]=s;return n.slice(a)}fake(e){if(typeof e!="string"||e.length===0)throw new k.FakerError("string parameter is required!");const t=e.search(/{{[a-z]/),n=e.indexOf("}}",t);if(t===-1||n===-1)return e;let a=e.substring(t+2,n+2).replace("}}","").replace("{{","");const s=/\(([^)]+)\)/,l=s.exec(a);let o="";l&&(a=a.replace(s,""),o=l[1]);const i=a.split(".");let c=this.faker,h=this.faker.definitions;for(const y of i)c=c==null?void 0:c[y],h=h==null?void 0:h[y];let m;if(typeof c=="function")m=c;else if(Array.isArray(h))m=()=>this.faker.helpers.arrayElement(h);else throw new k.FakerError(`Invalid module method or definition: ${a}
- faker.${a} is not a function
- faker.definitions.${a} is not an array`);m=m.bind(this);let u;try{u=JSON.parse(o)}catch{u=o}let p;typeof u=="string"&&u.length===0?p=String(m()):p=String(m(u));const g=e.substring(0,t)+p+e.substring(n+2);return g===""?"":this.fake(g)}}0&&(module.exports={Helpers});
